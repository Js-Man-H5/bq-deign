"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),u=require("ant-design-vue"),g={style:{"padding-left":"11px"}},f=e.defineComponent({name:"BqSelectAll",__name:"SelectAll",emits:["change"],setup(m,{emit:c}){const i=c,t=e.useAttrs(),o=e.ref(!1),s=e.ref(!1),p=e.defineComponent({props:{vnodes:{type:Object,required:!0}},render(){return this.vnodes}}),l=(n,a)=>{i("change",n,a)},v=n=>{if(t["onUpdate:value"]||console.warn("v-model:value 不存在"),n.target.checked)if(t.options&&t.options.length>0){o.value=n.target.value;const a=t.options.map(r=>r.value);t["onUpdate:value"]&&t["onUpdate:value"](a),l(a,t.options)}else o.value=!1;else t["onUpdate:value"]&&t["onUpdate:value"]([]),o.value=n.target.value,l([],[])},d=()=>{var n,a;s.value=Array.isArray(t.value)&&!!t.value.length&&t.value.length!==((n=t.options)==null?void 0:n.length),o.value=Array.isArray(t.value)&&t.value.length===((a=t.options)==null?void 0:a.length)};return e.onMounted(()=>{d()}),e.watch(()=>t.value,()=>{d()},{deep:!0}),(n,a)=>(e.openBlock(),e.createBlock(e.unref(u.Select),e.mergeProps(n.$attrs,{mode:"multiple",onChange:l}),{dropdownRender:e.withCtx(({menuNode:r})=>[e.createVNode(e.unref(p),{vnodes:r},null,8,["vnodes"]),e.createVNode(e.unref(u.Divider),{style:{margin:"4px 0"}}),e.createElementVNode("div",g,[e.createVNode(e.unref(u.Checkbox),{indeterminate:e.unref(s),checked:e.unref(o),"onUpdate:checked":a[0]||(a[0]=h=>e.isRef(o)?o.value=h:null),onChange:v},null,8,["indeterminate","checked"]),e.createTextVNode(" 全选")])]),_:1},16))}});exports.default=f;
